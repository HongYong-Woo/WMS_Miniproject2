<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.top.effitopia.mapper.InboundMapper">
<!--  <resultMap id="Inbound" type="Inbound">
    <id property="id" column="inbound_id"/>
  </resultMap>-->

  <select id="selectAllList" parameterType="Inbound">
    SELECT * FROM inbound;
  </select>

  <insert id="insert" parameterType="Inbound" useGeneratedKeys="true" keyProperty="id" keyColumn="inbound_id">
    INSERT INTO inbound(member_id, warehouse_id, vendor_id, inbound_request_date, inbound_expect_date, inbound_status) VALUES (#{member.id}, #{warehouse.id}, #{vendor.id}, #{inboundRequestDate}, #{inboundExpectDate}, #{inboundStatus})
  </insert>

  <update id="update" parameterType="Inbound">
    UPDATE inbound
    SET inbound_approved_date = #{inboundExpectDate}, inbound_status = #{inboundStatus}
    WHERE inbound_id = #{id};
  </update>

  <update id="approveList" parameterType="java.util.List">
    UPDATE inbound
    SET inbound_approved_date = now(), inbound_status = 'INBOUND_APPROVED'
    WHERE inbound_id IN
    <foreach collection="list" item="item" open="(" close=")" separator=",">
      #{item.id}
    </foreach>
  </update>

</mapper>

